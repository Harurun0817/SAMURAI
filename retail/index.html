<!DOCTYPE html>
<html lang="ja">

<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>リテールOne-Stop</title>
  <link rel="stylesheet" href="bootstrap.min.css">
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.8.0/font/bootstrap-icons.css">
  <link rel="stylesheet" href="style.css">
  <link rel="stylesheet" href="top.css">
  <script src="https://code.jquery.com/jquery-3.6.3.min.js"></script>
</head>

<body class="bg-light">

  <header class="title"></header>

  <nav class="navbar navbar-expand navbar-light bg-white"></nav>

  <div class="container-fluid">
    <div class="row bg-white g-1 g-sm-2 g-md-3">

      <div class="col-3 p-4 border border-light border-6 border-start-weight">
        <div id="sideMenu"></div>
      </div>

      <div class="backGray"></div>

      <div class="col-9 border border-light border-6 border-end-weight megaMenu">
        <div class="p-3">
          <div class="row row-cols-1 row-cols-md-2 row-cols-lg-3 row-cols-xl-4 g-1 g-sm-2 g-md-3 g-lg-4 card-top"></div>
        </div>
      </div>
    </div>
  </div>

  <!-- ここから追加 -->
  <!--   ポップアップ -->

  <!-- クリックしたらモーダルを表示するボタン -->
  <a href="#" class="restate">勉強会情報を再表示</a>

  <!-- オーバーレイ -->
  <div class="overlay"></div>

  <!-- モーダルウィンドウ -->
  <div class="my_modal">
    <div class="d-flex justify-content-between align-items-center bg-primary text-white p-3">
      <h2 class="m-0">本日1/23開催　投信勉強会</h2>
      <div class="close">&times</div>
    </div>
    <div class="my_modal_body">
      <p><a href="https://codepen.io/orange-notebook/pen/wvojxWe" target="_blank">
          10:00~11:00<br>&nbsp;
          (必須) 投資情報部 インド株式投信勉強会 （Teams）
      </p></a>
      <p><a href="https://codepen.io/orange-notebook/pen/wvojxWe" target="_blank">
          15:30~16:30<br>&nbsp;
          (任意) ゴールドマンサックス主催 （Webex）
      </p></a>
    </div>
  </div>

  <!-- 追加おわり -->

  <footer class="text-center py-4 bg-dark text-white"></footer>

  <script src="bootstrap.bundle.min.js"></script>
  <script src="js/mega_menu.js"></script>
  <script src="js/top.js"></script>


  <script src="https://cdnjs.cloudflare.com/ajax/libs/stickyfill/2.1.0/stickyfill.min.js"></script>
  <script src="js/common.js"></script>

  <script>
    $(function () {
      // フッターを最下部に固定するための
      let footer = $('footer');
      Stickyfill.add(footer);

      let setTimeoutConst;
      $('.card-body').hover(
        // ホバーされたときの処理
        function (e) {
          let rect           = e.target.getBoundingClientRect()
          let windowLeftDiff = window.innerWidth - rect.left;
          let eWidth         = e.target.children[1].getBoundingClientRect().width;
          let widthDiff      = windowLeftDiff - eWidth;
          // console.log(e.target.children[1]);
          if (widthDiff < 0) {
            // console.log(rect.width);
            let tWidth                      = eWidth - rect.width
            e.target.children[1].style.left = `-${tWidth}px`;
          }
          // $('.card-body').css({"background-color":"rgba(0, 0, 0, 0.3)"});
          // $(this).parent().css({"border-image":""})
          // $(this).css({"background-color":""})
          // $('.backGray').show();
          let header = $('header').height();
          // let header = $('header').outerHeight();
          $('.backGray').css({"top": header});
          // console.log(header);
          $('.backGray').fadeIn(20);
          clearTimeout(setTimeoutConst);
        },
        // ホバーが離れたときの処理
        function () {
          setTimeoutConst = setTimeout(function () {
            // $('.card-body').css({"background-color":""});
            // $('.card-body').css({"background-color":""});
            // $('.card').css({"border-image": ""});
            $('.backGray').fadeOut(20);
            // $('.backGray').hide();
          }, 0); // ここの数字はアニメーションを始めるタイミング
        }
      );
    });
  </script>
</body>

</html>